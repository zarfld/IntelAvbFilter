{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "generate-headers",
			"type": "shell",
			"command": "python",
			"args": [
				"intel-ethernet-regs\\tools\\reggen.py",
				"intel-ethernet-regs\\devices\\i225.yaml",
				"intel-ethernet-regs\\gen"
			]
		},
		{
			"label": "generate-headers-i210-v37",
			"type": "shell",
			"command": "py",
			"args": [
				"-3",
				"intel-ethernet-regs\\tools\\reggen.py",
				"intel-ethernet-regs\\devices\\i210_v3_7.yaml",
				"intel-ethernet-regs\\gen"
			]
		},
		{
			"label": "generate-headers-i210-cscl",
			"type": "shell",
			"command": "py",
			"args": [
				"-3",
				"intel-ethernet-regs\\tools\\reggen.py",
				"intel-ethernet-regs\\devices\\i210_cscl_v1_8.yaml",
				"intel-ethernet-regs\\gen"
			]
		},
		{
			"label": "generate-headers-all",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"Get-ChildItem intel-ethernet-regs/devices -Filter *.yaml | ForEach-Object { py -3 intel-ethernet-regs/tools/reggen.py $_.FullName intel-ethernet-regs/gen }"
			]
		},
		{
			"label": "build-driver-release",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Driver.ps1",
				"-Configuration",
				"Release"
			],
			"problemMatcher": [
				"$msCompile"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
		{
			"label": "build-driver-debug",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Driver.ps1",
				"-Configuration",
				"Debug"
			],
			"problemMatcher": [
				"$msCompile"
			]
		},
		{
			"label": "rebuild-driver-release",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Driver.ps1",
				"-Configuration",
				"Release",
				"-Clean"
			],
			"problemMatcher": [
				"$msCompile"
			]
		},
		{
			"label": "build-and-sign-driver",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Driver.ps1",
				"-Configuration",
				"Release",
				"-Sign"
			],
			"problemMatcher": [
				"$msCompile"
			]
		},
		{
			"label": "build-driver-and-tests",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Driver.ps1",
				"-Configuration",
				"Debug",
				"-BuildTests"
			],
			"problemMatcher": [
				"$msCompile"
			]
		},
		// REMOVED: rebuild-driver-release - use canonical rebuild-driver-release above instead
		{
			"label": "build-tests-nmake",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-Configuration",
				"Debug"
			],
			"problemMatcher": [
				"$msCompile"
			],
			"group": "test"
		},
		{
			"label": "build-test-i210",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-TestName",
				"avb_test_i210_um"
			],
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": [
				"$msCompile"
			],
			"group": "test"
		},
		{
			"label": "build-test-i219",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-TestName",
				"avb_test_i219"
			],
			"problemMatcher": [
				"$msCompile"
			],
			"group": "test"
		},
		{
			"label": "build-quick-diagnostics",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-TestName",
				"quick_diagnostics"
			],
			"problemMatcher": [
				"$msCompile"
			],
			"group": "test"
		},
		{
			"label": "run-i210-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./avb_test_i210_um.exe"
			],
			"presentation": {
				"reveal": "always"
			},
			"dependsOn": [
				"build-test-i210"
			]
		},
		{
			"label": "run-i219-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./avb_test_i219.exe"
			],
			"presentation": {
				"reveal": "always"
			},
			"dependsOn": [
				"build-test-i219"
			]
		},
		{
			"label": "run-quick-diagnostics",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./quick_diagnostics.exe"
			],
			"presentation": {
				"reveal": "always"
			},
			"dependsOn": [
				"build-quick-diagnostics"
			]
		},
		{
			"label": "run-full-diagnostics",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./tools/test/run_complete_diagnostics.bat"
			],
			"presentation": {
				"reveal": "always"
			},
			"problemMatcher": []
		},
		{
			"label": "sign-driver",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-And-Sign.ps1",
				"-Configuration",
				"Debug"
			],
			"problemMatcher": []
		},
		{
			"label": "build-tsauxc-toggle-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-TestName",
				"tsauxc_toggle_test"
			],
			"group": "test",
			"problemMatcher": []
		},
		{
			"label": "run-tsauxc-toggle-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./tsauxc_toggle_test.exe"
			],
			"presentation": {
				"reveal": "always"
			},
			"dependsOn": [
				"build-tsauxc-toggle-test"
			],
			"problemMatcher": []
		},
		{
			"label": "build-ptp-clock-control-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"tools/build/Build-Tests.ps1",
				"-TestName",
				"ptp_clock_control_test"
			],
			"group": "test",
			"problemMatcher": []
		},
		{
			"label": "run-ptp-clock-control-test",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"./ptp_clock_control_test.exe"
			],
			"presentation": {
				"reveal": "always"
			},
			"dependsOn": [
				"build-ptp-clock-control-test"
			],
			"problemMatcher": []
		}
	]
}